<div *ngIf="player" class="container">
  <dashboard></dashboard>
  <div class="form">
    <div class="row">
      <div class="col-md-12">
        <h2 *ngIf="player._id && !playerJoinGame">Update Player</h2>
        <h2 *ngIf="!player._id">Add Player</h2>
        <h2 *ngIf="playerJoinGame">Join Game</h2>
      </div>
    </div>
    <div class="row">
      <form class="col-md-12">
        <div class="form-group">
          <div *ngIf="errName">{{errName}}</div>
          <label for="player-name">Player:</label>
          <input *ngIf="!playerJoinGame" class="form-control" name="player-name" [(ngModel)]="player.name" placeholder="Name" />
          <h5 *ngIf="playerJoinGame" name="player-name">{{player.name}}</h5>
        </div>
        <div class="form-group">
            <div *ngIf="errRank">{{errRank}}</div>
          <label for="player-rank">Rank:</label>
          <select *ngIf="!playerJoinGame" class="form-control" name="player-rank" [(ngModel)]="player.rank">
            <option *ngFor="let rank of ranks" value="{{rank}}">{{rank}}</option>
          </select>
          <h5 *ngIf="playerJoinGame" name="player-rank">{{player.rank}}</h5>
        </div>
        <div class="form-group">
          <div *ngIf="errScore">{{errScore}}</div>
          <label for="player-Score">Score:</label>
          <input *ngIf="!playerJoinGame" class="form-control" name="player-score" [(ngModel)]="player.score" placeholder="Score" />
          <h5 *ngIf="playerJoinGame" name="player-score">{{player.score}}</h5>
        </div>
        <div class="form-group">
          <div *ngIf="errTime">{{errTime}}</div>
          <label for="player-time">Time:</label>
          <input *ngIf="!playerJoinGame" class="form-control" name="player-time" [(ngModel)]="player.time" placeholder="Time" />
          <h5 *ngIf="playerJoinGame" name="player-time">{{player.time}}</h5>
        </div>
        <div class="form-group">
          <div *ngIf="errFavoriteGame">{{errFavoriteGame}}</div>
          <label for="player-favorite-game">Favorite Game:</label>
          <select *ngIf="!playerJoinGame" class="form-control" name="player-favorite-game" [(ngModel)]="player.favoriteGame">
              <option *ngFor="let game of games" value="{{game.title}}">{{game.title}}</option>
            </select>
          <h5 *ngIf="playerJoinGame" name="player-favorite-game">{{player.favoriteGame}}</h5>
        </div>
        <div *ngIf="!playerJoinGame" class="form-group">
          <div *ngIf="errStatus">{{errStatus}}</div>
          <label for="player-status">Status:</label>
          <select class="form-control" name="player-status" [(ngModel)]="player.status">
            <option value="1">Available</option>
            <option value="0">Unavailable</option>
          </select>
        </div>
        <div *ngIf="playerJoinGame" class="form-group">
          <div *ngIf="errStatus">{{errStatus}}</div>
          <label for="player-status">Game:</label>
          <select class="form-control" name="player-game" [(ngModel)]="player.currentGame">
            <option *ngFor="let game of games" value="{{game.title}}">{{game.title}}</option>
          </select>
        </div>
        <button mat-raised-button color="primary" *ngIf="!player._id && !playerJoinGame" (click)="createPlayer(player)">Add</button>
        <button mat-raised-button color="primary" *ngIf="player._id && !playerJoinGame" (click)="updatePlayer(player)">Update</button>
        <button mat-raised-button color="primary" *ngIf="playerJoinGame" (click)="joinGame(player)">Join</button>
        <button mat-raised-button color="warn" (click)="cancel()">Cancel</button>
      </form>
    </div>
  </div>
</div>